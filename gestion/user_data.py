user_data = {
    
                "adresses": [
                        {
                            "adresse": "9 RUE DE L'EPARGNE 93600 AULNAY-SOUS-BOIS",
                            "codePostal": "93600", 
                            "email": "",
                            "estDefault": False,
                            "estLivraison": False,
                            "formeJuridique": "123", 
                            "latitude": "49.10242599999999",
                            "longitude": "0.6938990000000014",
                            "pays": "74",
                            "siteInternet": "",
                            "societe": "",
                            "ville": "34357" 
                        }
                    ],
                    'affaire': 0,
                    'autoriser': 0,
                    'code': "CLI00005",
                    'codeNaf': "41.20A",
                    'compteComptable': 0,
                    'domaineActivite': "/api/societe/domaine-activites/1554",
                    'email': "",
                    'encour': 0,
                    'estAdresseFacturation': True,
                    'estAssujettiTPF': False,
                    'estPospect': True,
                    'facebook': "",
                    'facturation': True,
                    'famille': "/api/societe/famille-tiers/3",
                    'formeJuridique': "/api/societe/forme-juridiques/123",
                    'image': "",
                    'libelleTarif': "/api/societe/libelle-tarifs/4",
                    'linkedin': "",
                    'modeReglement': "/api/societe/mode-reglement/15",
                    'nom': "aucun",
                    'numeroTva': "FR24 828141093",
                    'portable': "",
                    'rc': "828141093 R.C.S LE BLANC-MESNIL",
                    'reference': "",
                    'regimeTva': "/api/societe/regime-tva/5",
                    'remiseGlobal': 0,
                    'remiseParLigne': 0,
                    'risque': "/api/societe/risques/1",
                    'siret': "82814109300025",
                    'siteWeb': "",
                    'telephone': ""
                
    
} 

config = {
    "forme juridique": ("eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpYXQiOjE3MjAxNjc0NDksImV4cCI6MTcyMDIwMzQ0OSwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJzY2hlbWFBY3RpdmUiOiJjb2xpYnJpXzE5XzA2IiwiY29tcGFueSI6W3sibm9tIjoiRVRDIiwiY29kZSI6IkNPTEkiLCJhY3RpdmUiOnRydWV9LHsibm9tIjoiU09MQVZJVEUiLCJjb2RlIjoiU09MQSIsImFjdGl2ZSI6ZmFsc2V9XSwibm9tIjoiYWxpY2UiLCJ1c2VybmFtZSI6ImFsaWNldjJAZXRjaW5mby5mciIsInNvY2lldGUiOjF9.aE47b1cGMLduwS-zdeqcZy4WWKPw91wpCRVbjIo-gSJ0aEP1FAPWzfP05voLiEvtRXyqU0HDRaTv0IlJpwmxI8RZ-SuvCZqEI7CL-botdWSu-PTUiFdVW3HsMD0j5REbWRRleVCMBEN2WFLEwglIdXGSJ-vhXoQSEeEt5gy5wuHyxV3Sn_MEsq6dCBNcATshmfvOpT1ZXhM8iJJj7x6RZVcN06L0wJaFc6RmqGpmR05hJwRjH4ShvxGf3QKXIqtl-eh_hjnZ5mLjX66Tn6d2nibG1Pii7GYGIAN4dak41dQnXvD3SVP3hEJEVGXawyhYEknSBHUcUMJr-ayPylDfeA", "https://pp-unum-back.etcinfo.tech/api/societe/forme-juridiques", ["autre", "entreprise individuelle", "scs (societe en commandite simple)","snc (societe en nom collectif)","sca (societe en commandite par action)","cooperative","eurl (entrepeise unipersonnelle a responsabilite limitee)","sarl (societe a responsabilite limitee)","sas(societe par actions simplifiee) ","sa (sociiete anonyme)","aucune" ]),

    "famille": ("eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpYXQiOjE3MjAxNzE2MzksImV4cCI6MTcyMDIwNzYzOSwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJzY2hlbWFBY3RpdmUiOiJjb2xpYnJpXzE5XzA2IiwiY29tcGFueSI6W3sibm9tIjoiRVRDIiwiY29kZSI6IkNPTEkiLCJhY3RpdmUiOnRydWV9LHsibm9tIjoiU09MQVZJVEUiLCJjb2RlIjoiU09MQSIsImFjdGl2ZSI6ZmFsc2V9XSwibm9tIjoiYWxpY2UiLCJ1c2VybmFtZSI6ImFsaWNldjJAZXRjaW5mby5mciIsInNvY2lldGUiOjF9.QMD1K6j9I9A2ULQparg49DZLPomMOWe4fDpBz2EBiA5NqPspupzRbBriORMbDo5nCLB1Kedey7k5f3S_L_m_QfKZFR0WalYDgOa-YBz3Lomh0WrjnBJ9t-c14r-RU7HWvGLHg56PU1pVB-nqk9HEVNu2IyGTyLQMCnQ5kCKeCsUAys86xBTQsMmjXGbWFqEmzfOTOJtPQdfOM5w8AflptLQR1tSUlt1lIVns2oeUrnAMMepiKAhgheARsL86zhYLNw0wYSxc65RaT3S0IpJWXnNBjXCsZZJEiFz-MaJ9I0BpHX9jRoGroIB1ywUc5XMiPRitsUSM8nfkg9kAaVvS8Q", "https://pp-unum-back.etcinfo.tech/api/societe/famille-tiers", {
            "aucune": "/api/societe/famille-tiers/1",
            "particulier": "/api/societe/famille-tiers/2",
            "distribution speciale": "/api/societe/famille-tiers/4",
            "grossiste": "/api/societe/famille-tiers/5",
            "revendeur": "/api/societe/famille-tiers/6",
            "pme/pmi": "/api/societe/famille-tiers/7",
            "grand compte": "/api/societe/famille-tiers/8",
            "distribution": "/api/societe/famille-tiers/3",
            "societe": "/api/societe/famille-tiers/9"
        }),

    "comptable": ("token", "api", ["comptable1"]),

    "mode de paiement": ("token", "api", {"virement":"/api/societe/type-paiements/15",
                                          "cheque ":"/api/societe/type-paiements/14",
                                          "Crédit\/A Terme":"/api/societe/type-paiements/13",
                                          "Retrait espèces":"/api/societe/type-paiements/12",
                                          "Agios et frais":"/api/societe/type-paiements/11",
                                          "TIP":"/api/societe/type-paiements/10",
                                          "Aucun":"/api/societe/type-paiements/9",
                                          "Billet à ordre":"/api/societe/type-paiements/8",
                                          "LCRNA":"/api/societe/type-paiements/7",
                                          "LCRA":"/api/societe/type-paiements/6",
                                          }),

    "risque": ("eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpYXQiOjE3MjAxNzE2MzksImV4cCI6MTcyMDIwNzYzOSwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJzY2hlbWFBY3RpdmUiOiJjb2xpYnJpXzE5XzA2IiwiY29tcGFueSI6W3sibm9tIjoiRVRDIiwiY29kZSI6IkNPTEkiLCJhY3RpdmUiOnRydWV9LHsibm9tIjoiU09MQVZJVEUiLCJjb2RlIjoiU09MQSIsImFjdGl2ZSI6ZmFsc2V9XSwibm9tIjoiYWxpY2UiLCJ1c2VybmFtZSI6ImFsaWNldjJAZXRjaW5mby5mciIsInNvY2lldGUiOjF9.QMD1K6j9I9A2ULQparg49DZLPomMOWe4fDpBz2EBiA5NqPspupzRbBriORMbDo5nCLB1Kedey7k5f3S_L_m_QfKZFR0WalYDgOa-YBz3Lomh0WrjnBJ9t-c14r-RU7HWvGLHg56PU1pVB-nqk9HEVNu2IyGTyLQMCnQ5kCKeCsUAys86xBTQsMmjXGbWFqEmzfOTOJtPQdfOM5w8AflptLQR1tSUlt1lIVns2oeUrnAMMepiKAhgheARsL86zhYLNw0wYSxc65RaT3S0IpJWXnNBjXCsZZJEiFz-MaJ9I0BpHX9jRoGroIB1ywUc5XMiPRitsUSM8nfkg9kAaVvS8Q", "https://pp-unum-back.etcinfo.tech/api/societe/risques", {"aucun":"/api/societe/risques/1",
                                "eleve":"/api/societe/risques/2",
                                "faible":"/api/societe/risques/3",
                                "moyen":"/api/societe/risques/4"}),
    
    "facturation": ("token", "api", ["ht","ttc"]),
    "regime tva": ("token", "api", {"regime de franchise en base de tva":"/api/societe/regime-tva/1",
                                    "hors csee":"/api/societe/regime-tva/2",
                                    "local":"/api/societe/regime-tva/3",
                                    "csee":"/api/societe/regime-tva/4",
                                    "aucune":"/api/societe/regime-tva/5"}),
    "activite": ("token", "api", {"non defini":"/api/societe/domaine-activites/1554",
                                  "vente a distance":"/api/societe/domaine-activites/1554","usinage":"/api/societe/domaine-activites/1553",
                                  "usinage":"/api/societe/domaine-activites/1552",
                                  "trefilage a froid":"/api/societe/domaine-activites/1551",
                                  "traveau d'installation electrique plomberie et autre traveaux d'installation":"/api/societe/domaine-activites/1550",
                                  "traveau de revetement des sols et des murs":"/api/societe/domaine-activites/1549",
                                  "traveaux de preparation des sites":"/api/societe/domaine-activites/1548"
                                  ,"travaux de plomberie et installation de chauffage et de conditionnement d'air":"/api/societe/domaine-activites/1547",
                                  "traveau de platrerie":"/api/societe/domaine-activites/1546"}),

    "tarif": ("token", "api", {"grossiste":"/api/societe/libelle-tarifs/4",
                               "hyper marche":"/api/societe/libelle-tarifs/2",
                               "particulier":"/api/societe/libelle-tarifs/3",
                               "aucune":"/api/societe/libelle-tarifs/1"}),
    "affaire": ("token", "api", ["projet gamma","projet beta","projet alpha"]),
    "modeLivraison": ("eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpYXQiOjE3MjA2OTM3OTUsImV4cCI6MTcyMDcyOTc5NSwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJzY2hlbWFBY3RpdmUiOiJnZXN0aW9uX3ByZXByb2RfMTRfMDYiLCJjb21wYW55IjpbeyJub20iOiJFVEMiLCJjb2RlIjoiQ09MSSIsImFjdGl2ZSI6ZmFsc2V9LHsibm9tIjoiU09MQVZJVEUiLCJjb2RlIjoiU09MQSIsImFjdGl2ZSI6dHJ1ZX1dLCJub20iOiJhbGljZSIsInVzZXJuYW1lIjoiYWxpY2V2MkBldGNpbmZvLmZyIiwic29jaWV0ZSI6MX0.FS1llgoMK_XPuPCg7k5MrBGEw6azj1raHFm6AOkdFN4CzEz412TJjrxrXTKskefnnIzPqONNQy69a95ud-GHfWjJMTes8mlqo6GKmctZsHeA-sMy7h5OGKuREXlk3f7BQEYWhzERq48uZDokRff-08i6Bx2psqoipcoDy5_cwBxT6hS8839x6N9Fav7xG4dSFhyYmL2T4iAV-nEVRyGHoMIqyeKzU-64mvzdf9wE41yV57yBhP6UyrxcObnwyUBtyG7EJTelWS-Bn0psSe_VYMr_OXCQQm1g-lADDm-92evpIdG_WVhpl_J4e8AHliNdzurUJHslZHUTZEH-1tYmjA", "https://pp-unum-back.etcinfo.tech/api/societe/mode-livraison", {"aucun":"1"
                                        ,"aerien":"3"})
}

keywords = {
    'nom': ['nom', 's\'appelle'],
    'reference': ['reference'],
    'famille': ['famille'],
    'forme juridique': ['forme juridique'],
    'comptable': ['comptable'],
    'mode de paiement': ['mode de paiement'],
    'risque': ['risque'],
    'facturation': ['facturation'],
    'en cours autorise': ['en cours autorisé'],
    'regime tva': ['régime tva'],
    'siret': ['siret'],
    'numero tva': ['numéro tva'],
    'numero r.c.s': ['numéro r.c.s'],
    'code ape': ['code ape'],
    'activite': ['activité'],
    'telephone': ['telephone'],
    'portable': ['portable'],
    'email': ['email'],
    'linkedin': ['linkedin'],
    'facebook': ['facebook'],
    'tarif': ['tarif'],
    'taux de remise globale': ['taux de remise globale'],
    'taux de remise par ligne': ['taux de remise par ligne'],
    'affaire': ['affaire']
}

facture_keywords = {
       
    'referenceChez': ['referenceChez', 'référence chez', 'réf chez'],
    'articles': ['articles', 'produits', 'items'],
    'datePiece': ['datePiece', 'date pièce', 'date de la pièce'],
    'dateCommande': ['dateCommande', 'date commande', 'date de la commande'],
    'numeroCommande': ['numeroCommande', 'numéro commande', 'numéro de commande'],
    'numero': ['numero', 'numéro'],
    'status': ['status', 'statut'],
    'codeStatus': ['codeStatus', 'code statut', 'code status'],
    'modeLivraison': ['modeLivraison', 'mode livraison', 'méthode de livraison'],
    'dateLivraison': ['dateLivraison', 'date livraison'],
    'remiseGlobal': ['remiseGlobal', 'remise globale', 'remise totale'],
    'adresseFacturation.societe': ['adresseFacturation.societe', 'société adresse facturation', 'societe facturation'],
    'adresseFacturation.email': ['adresseFacturation.email', 'email adresse facturation'],
    'adresseFacturation.adresse': ['adresseFacturation.adresse', 'adresse facturation'],
    'adresseFacturation.codePostal': ['adresseFacturation.codePostal', 'code postal adresse facturation'],
    'adresseFacturation.ville': ['adresseFacturation.ville', 'ville adresse facturation'],
    'adresseFacturation.pays': ['adresseFacturation.pays', 'pays adresse facturation'],
    'adresseLivraison.societe': ['adresseLivraison.societe', 'société adresse livraison', 'societe livraison'],
    'adresseLivraison.email': ['adresseLivraison.email', 'email adresse livraison'],
    'adresseLivraison.adresse': ['adresseLivraison.adresse', 'adresse livraison'],
    'adresseLivraison.codePostal': ['adresseLivraison.codePostal', 'code postal adresse livraison'],
    'adresseLivraison.ville': ['adresseLivraison.ville', 'ville adresse livraison'],
    'adresseLivraison.pays': ['adresseLivraison.pays', 'pays adresse livraison'],
    'tier.nom': ['nom', 'nom client'],
    'tier.code': ['code_client'],
    'tier.email': ['tier.email', 'email tier'],
    'tier.telephone': ['tier.telephone', 'téléphone tier', 'telephone tier'],
    'tier.portable': ['tier.portable', 'portable tier'],
    'tier.contact': ['contact', 'contact '],
    'tier.regimeTva': ['tier.regimeTva', 'régime TVA tier', 'regime TVA tier'],
    'tier.affaire': ['tier.affaire', 'affaire tier'],
    'tier.formeJuridique': ['tier.formeJuridique', 'forme juridique tier'],
    'tier.numeroTva': ['numeroTva', 'numéro TVA ', 'numero TVA '],
    'ligne.articleId' : ['code_article ', 'article'],
    'ligne.quantity' : ['quantite']
}
values_key = [
    'nom' ,
    'adresse',
    'code client' ,
    "reference Chez",
    "articles",
    "date Piece",
    "date Commande",
    "numero Commande",
    "numero",
    "status",
    "code Status",
    "mode livraison",
    "date livraison",
    "remise Global",
    "code" ,
    "quantite" ,
    "article",
    "client",
]



facture_data = {
    "referenceChez": "",
    "articles": [],
    "datePiece": "",
    "dateCommande": "",
    "numeroCommande": "",
    "numero": "",
    "status": "",
    "codeStatus": "",
    "modeLivraison": 1,
    "dateLivraison": "",
    "remiseGlobal": 0,
    "adresseFacturation": {
      
        "societe": "",
        "email": "",
        "adresse": "",
        "codePostal": "Aucun",
        "ville": 1,
        "pays": 74,
        "city": {
            "@id": "/api/societe/villes/1",
            "@type": "Ville",
          
            "ville": "Non définie",
            "codePostal": "Aucun",
            "pays": {
                "@id": "/api/societe/pays/74",
                "@type": "Pays",
              
                "nom": "France",
                "codeIso2": "FR",
                "estPredefini": True
            },
            "inseeCode": "Aucun",
            "estPredefini": True,
            "estDefault": True
        }
    },
    "adresseLivraison": {
        
        "societe": "",
        "email": "",
        "adresse": "",
        "codePostal": "Aucun",
        "ville": 1,
        "pays": 74,
        "city": {
            "@id": "/api/societe/villes/1",
            "@type": "Ville",
          
            "ville": "Non définie",
            "codePostal": "Aucun",
            "pays": {
                "@id": "/api/societe/pays/74",
                "@type": "Pays",
               
                "nom": "France",
                "codeIso2": "FR",
                "estPredefini": True
            },
            "inseeCode": "Aucun",
            "estPredefini": True,
            "estDefault": True
        }
    },
    "tier": {
        "societe": "",
        "idTier":0,
        "code": "CLI00016",
        "encour": "0.000",
        "nom": "",
        "email": "",
        "telephone": "",
        "portable": "",
        "modeReglement": 0,
        "contact":-1,
        "regimeTva": 0,
        "affaire": 1,
        "formeJuridique": 122,
        "numeroTva": "",
        "image":"",
        "estAssujettiTPF": False,
        "baseCalcul": "HT",
        "dateEcheance": "2024-07-10",
        "regimeTvaId": 0
    },
    
    "lignes": [
       
    ],
    "pied": {
       
            "totalHt": 246.44549763033,
            "totalTva": 19.305,
            "totalTTC": 260,
            "remiseGlobalHt": 0,
            "tauxRemiseGlobal": 10,
            "remiseGlobalTtc": 0,
            "brutHt": 246.44549763033,
            "soldeDu": 260,
            "montantRegle": 0,
            "totalQuantity": 13,
            "totalEcoParticipation": 0,
            "totalPoidsNet": 0,
            "totalPoidsBrut": 0,
            "totalColis": 1,
            "totalTPF": 0

    },
    "echeances": {
        "list": []
    },
    "estMultiEcheance": False,
    "creePar": "alice",
    "modifierPar": "alice",
    "creeLe": "2024-07-18 09:04:41",
    "modifierLe": "2024-07-18 09:04:41"
}

# Exemple d'utilisation de la fonction
payload = {
    
    "articles": [
       
    ],
    "remiseGlobal": 0,
    "typePiece": "ventes",
    "tierId": 37,
    "baseCalcul": "HT"
}

